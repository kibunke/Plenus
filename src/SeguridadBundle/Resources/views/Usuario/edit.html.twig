{% extends 'CommonBundle::layout.html.twig' %}

{% block contenidoToolbar %}
    <div class="toolbar row">
        <div class="col-sm-6 hidden-xs">
            <div class="page-header">
                <h1>Edición del Usuario <small>Todo los datos del usuario "{{entity.username}}"</small></h1>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="toolbar-tools pull-right">
                <!-- start: TOP NAVIGATION MENU -->
                <ul class="nav navbar-right">
                    <!-- start: TO-DO DROPDOWN -->
                    <li class="menu-search">
                        <!-- start: SEARCH POPOVER -->
                        <div class="popover bottom search-box transition-all">
                            <div class="arrow"></div>
                            <div class="popover-content">
                                <!-- start: SEARCH FORM -->
                                <form class="" id="searchform" action="#">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Buscar">
                                        <span class="input-group-btn">
                                            <button class="btn btn-main-color btn-squared" type="button">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </form>
                                <!-- end: SEARCH FORM -->
                            </div>
                        </div>
                        <!-- end: SEARCH POPOVER -->
                    </li>
                </ul>
                <!-- end: TOP NAVIGATION MENU -->
            </div>
        </div>
    </div>
{% endblock %}
{% block contenidoBreadcrumb %}
    <div class="row">
        <div class="col-md-12">
            <ol class="breadcrumb">
                <li>
                    <a href="{{ path('user_list') }}">
                        Usuario
                    </a>
                </li>
                <li class="active">
                    <a href="{{ path('user_edit',{'user':entity.id}) }}">
                        {{entity.username}}
                    </a>
               </li>
            </ol>
        </div>
    </div>
{% endblock %}
{% block contenidoData %}
    <!-- start: PAGE CONTENT -->
						<div class="row">
							<div class="col-sm-12">
								<div class="tabbable">
									<ul class="nav nav-tabs tab-padding tab-space-3 tab-blue" id="myTab4">
										<li class="active">
											<a data-toggle="tab" href="#panel_overview">
												Vista General
											</a>
										</li>
										<li>
											<a data-toggle="tab" href="#panel_edit_account">
												Editar Cuenta
											</a>
										</li>
									</ul>
									<div class="tab-content">
										<div id="panel_overview" class="tab-pane fade in active">
											<div class="row">
												<div class="col-sm-5 col-md-4">
													<div class="user-left">
														<div class="center">
															<h4>{{entity.persona.apellido ~ ', ' ~ entity.persona.nombre}}</h4>
																<div class="user-image">
																	<div class="fileupload-new thumbnail"><img src="{{entity.persona.avatar}}" alt=""></div>
																</div>
															<hr>
															<div class="social-icons block">
																<ul>
																	<li data-placement="top" data-original-title="Twitter" class="social-twitter tooltips">
																		<a href="https://www.twitter.com/" target="_blank">
																			Twitter
																		</a>
																	</li>
																	<li data-placement="top" data-original-title="Facebook" class="social-facebook tooltips">
																		<a href="https://www.facebook.com/" target="_blank">
																			Facebook
																		</a>
																	</li>
																	<li data-placement="top" data-original-title="Google" class="social-google tooltips">
																		<a href="https://plus.google.com" target="_blank">
																			Google+
																		</a>
																	</li>
																	<li data-placement="top" data-original-title="LinkedIn" class="social-linkedin tooltips">
																		<a href="https://www.linkedin.com/" target="_blank">
																			LinkedIn
																		</a>
																	</li>
																	<li data-placement="top" data-original-title="Github" class="social-github tooltips">
																		<a href="https://www.github.com" target="_blank">
																			Github
																		</a>
																	</li>
																</ul>
															</div>
															<hr>
														</div>
														<table class="table table-condensed table-hover">
															<thead>
																<tr>
																	<th colspan="3"><i class="fa fa-address-book fa-lg"></i> Información de Contacto</th>
																</tr>
															</thead>
															<tbody>
																<tr>
																	<td>email:</td>
																	<td><small>{{entity.persona.email}}</small></td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
																<tr>
																	<td>teléfono:</td>
																	<td>{{entity.persona.telefono}}</td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
																<tr>
																	<td>skype:</td>
																	<td>{{entity.persona.skype}}</td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
                                                                <tr>
																	<td>facebook:</td>
																	<td>{{entity.persona.facebook}}</td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
                                                                <tr>
																	<td>linkedin:</td>
																	<td>{{entity.persona.linkedin}}</td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
                                                                <tr>
																	<td>twitter:</td>
																	<td>{{entity.persona.twitter}}</td>
                                                                    <td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
															</tbody>
														</table>
														<table class="table table-condensed table-hover">
															<thead>
																<tr>
																	<th colspan="3">Información General</th>
																</tr>
															</thead>
															<tbody>
																<tr>
																	<td>Perfil</td>
																	<td>{{entity.perfil}}</td>
																	<td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
																<tr>
																	<td>Última Actividad</td>
																	<td colspan="2"><small>{{entity.lastActivity|date('d/m/Y [H:i:s]')}}</small></td>
																</tr>
																<tr>
																	<td>Estado</td>
																	<td><i class="fa fa-lg fa-thumbs-o-{% if entity.isActive %}up text-success">{% else %}down text-danger">{% endif %}</i></td>
																	<td><a href="#panel_edit_account" class="show-tab"><i class="fa fa-pencil edit-user-info"></i></a></td>
																</tr>
															</tbody>
														</table>
														<table class="table table-condensed table-hover">
															<thead>
																<tr>
																	<th colspan="3">Información Adicional</th>
																</tr>
															</thead>
															<tbody>
																<tr>
																	<td>Nacimiento</td>
																	<td colspan="2">{% if entity.persona.fNacimiento %}{{entity.persona.fNacimiento| date('d/m/Y')}}{% endif %}</td>
																</tr>
															</tbody>
														</table>
													</div>
												</div>
												<div class="col-sm-7 col-md-8">
													<div class="panel panel-white space20">
														<div class="panel-heading">
															<i class="fa fa-cog fa-lg fa-spin"></i>
															Actividad Reciente
														</div>
														<div class="panel-body height-300" style="overflow-y: auto">
															<ul class="activities">
                                                                {% for log in entity.logs|slice(0, 20) %}
                                                                  <li>
                                                                      <a class="activity" href="javascript:void(0)">
                                                                           <span class=""><i class="fa fa-laptop"></i> {{log.ip}}</span>
                                                                           <span> <i class="fa fa-clock-o"></i> {{log.createdAt | date ('d/m/Y [H:i:s]')}}</span>
                                                                           <span class="desc"><i class="fa fa-cog"></i> {{log.description}} {{log.activity}}</span>
                                                                      </a>
                                                                  </li>
                                                              {% endfor %} 
															</ul>
													    </div>
												</div>
											</div>
										</div>
										<div id="panel_edit_account" class="tab-pane fade">
											<form action="file:///home/german/Descargas/templates/rapido_v1.3/rapido/pages_user_profile.html#" role="form" id="form">
												<div class="row">
													<div class="col-md-12">
														<h3>Account Info</h3>
														<hr>
													</div>
													<div class="col-md-6">
														<div class="form-group">
															<label class="control-label">
																First Name
															</label>
															<input type="text" placeholder="Peter" class="form-control" id="firstname" name="firstname">
														</div>
														<div class="form-group">
															<label class="control-label">
																Last Name
															</label>
															<input type="text" placeholder="Clark" class="form-control" id="lastname" name="lastname">
														</div>
														<div class="form-group">
															<label class="control-label">
																Email Address
															</label>
															<input type="email" placeholder="peter@example.com" class="form-control" id="email" name="email">
														</div>
														<div class="form-group">
															<label class="control-label">
																Phone
															</label>
															<input type="email" placeholder="(641)-734-4763" class="form-control" id="phone" name="email">
														</div>
														<div class="form-group">
															<label class="control-label">
																Password
															</label>
															<input type="password" placeholder="password" class="form-control" name="password" id="password">
														</div>
														<div class="form-group">
															<label class="control-label">
																Confirm Password
															</label>
															<input type="password" placeholder="password" class="form-control" id="password_again" name="password_again">
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-group connected-group">
															<label class="control-label">
																Date of Birth
															</label>
															<div class="row">
																<div class="col-md-3">
																	<select name="dd" id="dd" class="form-control">
																		<option value="">DD</option>
																		<option value="01">1</option>
																		<option value="02">2</option>
																		<option value="03">3</option>
																		<option value="04">4</option>
																		<option value="05">5</option>
																		<option value="06">6</option>
																		<option value="07">7</option>
																		<option value="08">8</option>
																		<option value="09">9</option>
																		<option value="10">10</option>
																		<option value="11">11</option>
																		<option value="12">12</option>
																		<option value="13">13</option>
																		<option value="14">14</option>
																		<option value="15">15</option>
																		<option value="16">16</option>
																		<option value="17">17</option>
																		<option value="18">18</option>
																		<option value="19">19</option>
																		<option value="20">20</option>
																		<option value="21" selected="selected">21</option>
																		<option value="22">22</option>
																		<option value="23">23</option>
																		<option value="24">24</option>
																		<option value="25">25</option>
																		<option value="26">26</option>
																		<option value="27">27</option>
																		<option value="28">28</option>
																		<option value="29">29</option>
																		<option value="30">30</option>
																		<option value="31">31</option>
																	</select>
																</div>
																<div class="col-md-3">
																	<select name="mm" id="mm" class="form-control">
																		<option value="">MM</option>
																		<option value="01">1</option>
																		<option value="02">2</option>
																		<option value="03">3</option>
																		<option value="04">4</option>
																		<option value="05">5</option>
																		<option value="06">6</option>
																		<option value="07">7</option>
																		<option value="08">8</option>
																		<option value="09">9</option>
																		<option value="10" selected="selected">10</option>
																		<option value="11">11</option>
																		<option value="12">12</option>
																	</select>
																</div>
																<div class="col-md-3">
																	<input type="text" placeholder="1982" id="yyyy" name="yyyy" class="form-control">
																</div>
															</div>
														</div>
														<div class="form-group">
															<label class="control-label">
																Gender
															</label>
															<div>
																<label class="radio-inline">
																	<div class="iradio_minimal-grey" style="position: relative;"><input type="radio" class="grey" value="" name="gender" id="gender_female" style="position: absolute; top: -10%; left: -10%; display: block; width: 120%; height: 120%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -10%; left: -10%; display: block; width: 120%; height: 120%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
																	Female
																</label>
																<label class="radio-inline">
																	<div class="iradio_minimal-grey checked" style="position: relative;"><input type="radio" class="grey" value="" name="gender" id="gender_male" checked="checked" style="position: absolute; top: -10%; left: -10%; display: block; width: 120%; height: 120%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -10%; left: -10%; display: block; width: 120%; height: 120%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
																	Male
																</label>
															</div>
														</div>
														<div class="row">
															<div class="col-md-4">
																<div class="form-group">
																	<label class="control-label">
																		Zip Code
																	</label>
																	<input class="form-control" placeholder="12345" type="text" name="zipcode" id="zipcode">
																</div>
															</div>
															<div class="col-md-8">
																<div class="form-group">
																	<label class="control-label">
																		City
																	</label>
																	<input class="form-control tooltips" placeholder="London (UK)" type="text" data-original-title="We&#39;ll display it when you write reviews" data-rel="tooltip" title="" data-placement="top" name="city" id="city">
																</div>
															</div>
														</div>
														<div class="form-group">
															<label>
																Image Upload
															</label>
															<div class="fileupload fileupload-new" data-provides="fileupload">
																<div class="fileupload-new thumbnail"><img src="./Rapido - Responsive Admin Template_files/avatar-1-xl.jpg" alt="">
																</div>
																<div class="fileupload-preview fileupload-exists thumbnail"></div>
																<div class="user-edit-image-buttons">
																	<span class="btn btn-azure btn-file"><span class="fileupload-new"><i class="fa fa-picture"></i> Select image</span><span class="fileupload-exists"><i class="fa fa-picture"></i> Change</span>
																		<input type="file">
																	</span>
																	<a href="file:///home/german/Descargas/templates/rapido_v1.3/rapido/pages_user_profile.html#" class="btn fileupload-exists btn-red" data-dismiss="fileupload">
																		<i class="fa fa-times"></i> Remove
																	</a>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-md-12">
														<h3>Additional Info</h3>
														<hr>
													</div>
													<div class="col-md-6">
														<div class="form-group">
															<label class="control-label">
																Twitter
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-twitter"></i> </span>
														</div>
														<div class="form-group">
															<label class="control-label">
																Facebook
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-facebook"></i> </span>
														</div>
														<div class="form-group">
															<label class="control-label">
																Google Plus
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-google-plus"></i> </span>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-group">
															<label class="control-label">
																Github
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-github"></i> </span>
														</div>
														<div class="form-group">
															<label class="control-label">
																Linkedin
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-linkedin"></i> </span>
														</div>
														<div class="form-group">
															<label class="control-label">
																Skype
															</label>
															<span class="input-icon">
																<input class="form-control" type="text" placeholder="Text Field">
																<i class="fa fa-skype"></i> </span>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-md-12">
														<div>
															Required Fields
															<hr>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-md-8">
														<p>
															By clicking UPDATE, you are agreeing to the Policy and Terms &amp; Conditions.
														</p>
													</div>
													<div class="col-md-4">
														<button class="btn btn-green btn-block" type="submit">
															Update <i class="fa fa-arrow-circle-right"></i>
														</button>
													</div>
												</div>
											</form>
										</div>
										
											
									</div>
								</div>
							</div>
						</div>
		<!-- end: PAGE CONTENT-->
{% endblock %}
{% block otherJavascripts %}
    <script type="text/javascript">
        (function ($) {
            // no se sobreescribe el namespace, si ya existe
            var _table;

            $.UsuarioEdit = $.UsuarioEdit || {};
            $.UsuarioEdit.charts = function(){},
            $.UsuarioEdit.crearModal = function(url,title)
            {
                $('#okButton').button('reset');
                $('#panel-config .modal-footer').show();
                $('#panel-config .modal-title').html(title);
                $('#panel-config .modal-body').html("");
                $('#panel-config .modal-body').load(url,function(){
                $('#panel-config form').submit(function(event){
                        event.preventDefault();
                        $.post(url,
                               $('#panel-config form').serialize(),
                               function(data){
                                  if(data.resultado == 0)
                                  {
                                    swal({
                                    title: "Resultado",
                                    text: data.mensaje,
                                    type: "success",
                                    showCancelButton: false,
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "Aceptar",
                                    closeOnConfirm: true
                                  },
                                  function(){
                                    _table.ajax.reload( null, false );
                                    $('#panel-config').modal('toggle');
                                  });
                                    
                                  }else{
                                    swal({
                                    title: "Resultado",
                                    text: data.mensaje,
                                    type: "error",
                                    showCancelButton: false,
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "Aceptar",
                                    closeOnConfirm: true
                                        },
                                        function(){});
                                      }
                               }
                        );
                        //$.Evento.etapa.competencia.request($('#panel-config form'),'zona');
                        //setTimeout(function(){$("#reload-parcial-fixture").load($("#reload-parcial-fixture").data("update"));},500);
                        //return false;
                    });
                });
                $('#panel-config').modal();  
            }
        })(jQuery);
        $(document).ready(function(){});
    </script>
{% endblock %}    

