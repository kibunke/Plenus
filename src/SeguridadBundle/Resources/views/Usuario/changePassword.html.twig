{% extends "SeguridadBundle::layout.html.twig" %}

{% block othersCSS %}{% endblock %}
{% block content %}
    <div class="row">
        <div class="main-login col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-4 col-md-offset-4">
            <!-- start: LOGIN BOX -->
            <div class="box-login" style="display: block !important;">
                <h3>Cambio de contraseña</h3>
                <p>
                    Ingrese una nueva contraseña para continuar.
                </p>        
                <form class="form-login" action="{{ path('_changePassword') }}" method="post">
                    <fieldset>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-lock"></i></div>
                                <input type="password" class="form-control password" id="currentPassword" name="currentPassword" placeholder="Clave actual">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-lock"></i></div>
                                <input type="password" class="form-control password" id="newPassword" name="newPassword" placeholder="Clave nueva">
                            </div>                            
                        </div>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-lock"></i></div>
                                <input type="password" class="form-control password" id="confirmNewPassword" name="confirmNewPassword" placeholder="Repetir clave nueva">
                            </div>
                        </div>                        
                        <button type="submit" class="btn btn-primary"><small class="fa fa-send"></small> Enviar</button>
                        {% if (not user.getChangePassword) %}
                            <a href="{{ path('homepage') }}" type="button" class="btn btn-default"><span class="fa fa-home"></span> Volver</a>
                        {% endif %}
                        <a href="{{ path('_logout') }}" type="button" class="btn btn-warning"><span class="fa fa-power-off"></span> Salir</a>
                    </fieldset>
                </form>
                <!-- start: COPYRIGHT -->
                <div class="copyright">
                    {{ "now"|date("Y") }} &copy; Departamento de informática, Subsecretaría de Deportes de la Provincia de Buenos Aires.
                </div>
                <!-- end: COPYRIGHT -->
            </div>
            <!-- end: LOGIN BOX -->
        </div>
    </div>
{% endblock %}
{% block othersJavaScript %}
    <script>
        (()=> {
            "use strict";
            window.User = window.User || {}; //global variable, the root of our namespace
            //main function to initiate template pages
            User.init = (error)=> {
                $('#currentPassword').focus();
            }      
        })();
        $().ready(()=>{User.init();});
    </script>    
{% endblock %}
{% block footerAll %}{% endblock %}